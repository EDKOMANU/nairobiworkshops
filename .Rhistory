# Just some quick cleaning
library(haven)
library(tidyverse)
library(fixest)
library(DescTools)
library(RColorBrewer)
library(reldist)
# Just some quick cleaning
library(haven)
library(tidyverse)
library(fixest)
library(DescTools)
library(RColorBrewer)
library(reldist)
library(ggpubr)
library(openxlsx)
library(xgboost)
library(fastDummies)
library(dineq)
library(pbmcapply)
# Need to clean assets
# some basics about the household --------------------------------
assets <- read.xlsx("../data/icrisat/EastIndia/2010/GES/Gen_info.xlsx")
install.packages("rgeedim")
library(rgeedim)
gd_install()
gd_authenticate(auth_mode = "notebook")
4/1AcvDMrDdSOHSU1HD3nX35A8QyJ_0JJvLMpMR_mUhBFkI7dprgWv_Kktyo2g
gd_initialize()
library(tidyverse)
library(sf)
library(terra)
library(tidyterra)
setwd("~/Dropbox/Papers/UN-SAE/workshops/africa/nairobiworkshops/day4data")
setwd("~/Dropbox/Papers/UN-SAE/workshops/africa/nairobiworkshops")
# Load the shapefile for Malawi
mw3 <- read_sf("day4data/mw4.shp")
# create bounding box
bbox <- st_extent(mw3)
# create bounding box
bbox <- st_bbox(mw3)
bbox
crs(mw3)
x <- "NOAA/VIIRS/DNB/ANNUAL_V21" |>
gd_image_from_id() |>
gd_download(
filename = "image.tif",
region = bbox,
crs = "EPSG:4326", # this is lat/lon
resampling = "bilinear",
scale = 500 # The resolution, in meters
)
# let's search for images
x <- "NOAA/VIIRS/DNB/ANNUAL_V21" |>
gd_collection_from_name() |>
gd_search(region = bbox)
x
gd_properties(x)
devtools::install_github("SSA-Statistical-Team-Projects/GeoLink")
library(GeoLink)
library(df)
library(sf)
getwd()
adm4 <- read_sf("day4data/mw4.shp")
test_dt <- geolink_chirps(time_unit = "month", start_date = "2020-01-01", end_date = "2020-02-01", shp_dt = adm4, extract_fun = "mean")
test_dt
test_dt <- geolink_ntl(time_unit = "month", start_date = "2020-01-01", end_date = "2020-02-01", shp_dt = adm4, extract_fun = "mean")
test_dt <- geolink_ntl(time_unit = "month", start_date = "2020-01-01", end_date = "2020-02-01", shp_dt = adm4, extract_fun = "mean", indicator = "average_masked")
test_dt <- geolink_ntl(time_unit = "month", start_date = "2020-01-01", end_date = "2020-02-01", shp_dt = adm4, extract_fun = "mean", indicator = "avg_rade9h")
